const a=[];let b=!1;window.$$=function(a){switch(typeof a){case"string":return _generateNodes(a);case"function":return _registerDocReadyCB(a);case"object":if(a instanceof HTMLElement)return new c([a])}},$$.extend=((a,...b)=>{return b.forEach(b=>{for(let c in b)a[c]=b[c]}),a}),$$.ajax=(a=>{const b=new XMLHttpRequest,c={contentType:"application/x-www-form-urlencoded; charset=UTF-8",method:"GET",url:"",data:{},success:()=>{},error:()=>{}};return a=$$.extend(c,a),a.method=a.method.toUpperCase(),"GET"===a.method&&Object.keys(a.data).length>0&&(a.url+="?"+_generateQuery(a.data)),new Promise((c,d)=>{b.open(a.method,a.url,!0),b.onload=(e=>{if(200===b.status){const d=JSON.parse(b.response);a.success(d),c(d)}else{const c=JSON.parse(b.response);a.error(c),d(c)}}),b.send(JSON.stringify(a.data))})}),_generateQuery=(a=>{let b="";for(let c in a)a.hasOwnProperty(c)&&(b+=c+"="+a[c]+"&");return b.substring(0,a.length-1)}),_registerDocReadyCB=(c=>{b?c():a.push(c)}),_generateNodes=(a=>{let b=document.querySelectorAll(a),d=Array.from(b);return new c(d)}),document.addEventListener("DOMContentLoaded",()=>{b=!0,a.forEach(a=>a())});class c{constructor(a){this.nodes=a}each(a){this.nodes.forEach(a)}html(a){return void 0!==a?(this.each(b=>b.innerHTML=a),this):this.nodes[0].innerHTML}empty(){return this.each(a=>a.innerHTML=""),this}remove(){const a=this.nodes.slice(0);return this.each(a=>a.remove()),a}append(a){if(0!==this.nodes.length){switch("object"!=typeof a||a instanceof c||(a=$$(a)),typeof a){case"object":return void(a instanceof c&&this.each(b=>{a.each(a=>b.appendChild(a.cloneNode(!0)))}));case"string":return void this.each(b=>b.innerHTML+=a)}return this}}attr(a,b){return void 0===b?this.nodes[0].getAttribute(a):(this.nodes[0].setAttribute(a,b),this)}addClass(a){return this.each(b=>b.classList.add(a)),this}removeClass(a){return this.each(b=>b.classList.remove(a)),this}toggleClass(a){return this.each(b=>b.classList.toggle(a)),this}children(){const a=[];return this.each(b=>{for(let c=0;c<b.children.length;c++)a.push(b.children[c])}),new c(a)}parent(){const a=[];return this.each(b=>{const c=b.parentNode;a.includes(c)||a.push(c)}),new c(a)}find(a){const b=[];return this.each(c=>{const d=c.querySelectorAll(a);for(let e=0;e<d.length;e++)b.push(d[e])}),new c(b)}on(a,b){return this.each(c=>{c.addEventListener(a,b);const d=`aqEvents-${a}`;void 0===c[d]?c[d]=[b]:c[d].push(b)}),new c(this.nodes)}off(a){return this.each(b=>{const c=`aqEvents-${a}`;let d=b[c];d&&d.forEach(c=>b.removeEventListener(a,c)),d=[]}),new c(this.nodes)}}
